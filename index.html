<!DOCTYPE html>
<html>
  <head>
    <title>writingsaboutbuildings</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      .poster-container {
        position: relative;
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0;
        padding: 0;
        overflow: hidden;
      }

      .poster-image {
        width: auto;
        height: 100%;
        object-fit: contain;
      }

      @media (max-width: 768px) {
        .poster-container {
          width: 100vw;
          height: 100vh;
          overflow: hidden;
          align-items: flex-start;
          position: relative;
        }

        .poster-image {
          width: 100vw;
          height: calc(100vw * (4299 / 3000));
          object-fit: contain;
          max-height: 100vh;
          margin-top: 0;
        }

        @media (min-aspect-ratio: 3000/4299) {
          .poster-image {
            width: calc(100vh * (3000 / 4299));
            height: 100vh;
          }
        }

        .tooltip-container {
          position: absolute !important;
          display: grid !important;
          grid-template-columns: repeat(2, auto) !important;
          grid-auto-rows: auto !important;
          width: 300px !important;
          gap: 10px !important;
          margin: 0 auto !important;
          left: 50% !important;
          transform: translateX(-50%) !important;
          flex-direction: unset !important;
          justify-content: center !important;
        }

        .tooltip {
          font-size: 12px;
          padding: 6px 12px;
          white-space: nowrap;
          width: auto;
        }

        .tooltip-container.show-mobile {
          opacity: 1;
        }
      }

      .tooltip-container {
        position: absolute;
        bottom: 20px;
        left: 0;
        right: 0;
        display: flex;
        flex-direction: row;
        justify-content: center;
        gap: 20px;
        padding: 10px;
        z-index: 10;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      @media (hover: hover) {
        .poster-container:hover .tooltip-container {
          opacity: 1;
        }
      }

      .tooltip {
        background: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        padding: 6px 12px;
        border-radius: 20px;
        font-family: Arial, sans-serif;
        font-size: 14px;
        cursor: pointer;
        transition: transform 0.2s;
        text-align: center;
        white-space: nowrap;
        display: inline-block;
      }

      .tooltip:hover {
        transform: scale(1.05);
      }

      .tooltip a {
        color: #000000;
        text-decoration: none;
      }

      @media screen and (max-width: 768px) {
        .poster-container .tooltip-container,
        .poster-container .tooltip {
          /* 이 스타일 블록 제거 */
        }
      }

      /* Hide default content during February */
      .default-content {
        display: none;
      }
    </style>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-NVR9H15G03"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-NVR9H15G03");
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const posterContainer = document.querySelector(".poster-container");
        const tooltipContainer = document.querySelector(".tooltip-container");
        const posterImage = document.querySelector(".poster-image");
        let touchTimeout;

        // 포스터 이미지 로드 완료 시 태그 위치 조정
        posterImage.addEventListener("load", adjustTooltipPosition);
        // 화면 크기 변경 시 태그 위치 재조정
        window.addEventListener("resize", adjustTooltipPosition);

        function adjustTooltipPosition() {
          const posterRect = posterImage.getBoundingClientRect();
          const tooltipRect = tooltipContainer.getBoundingClientRect();
          const bottomPosition = posterRect.height - tooltipRect.height - 20; // 20px 여백

          tooltipContainer.style.top = `${bottomPosition}px`;
          tooltipContainer.style.bottom = "auto";
        }

        // 모바일 터치 이벤트 처리
        posterContainer.addEventListener("touchstart", function (e) {
          if (tooltipContainer.classList.contains("show-mobile")) {
            tooltipContainer.classList.remove("show-mobile");
          } else {
            tooltipContainer.classList.add("show-mobile");
            adjustTooltipPosition(); // 태그 표시 시 위치 재조정
          }

          // 5초 후 자동으로 숨김
          clearTimeout(touchTimeout);
          touchTimeout = setTimeout(() => {
            tooltipContainer.classList.remove("show-mobile");
          }, 5000);
        });

        // 다른 곳을 터치하면 태그 숨김
        document.addEventListener("touchstart", function (e) {
          if (!posterContainer.contains(e.target)) {
            tooltipContainer.classList.remove("show-mobile");
          }
        });

        // 기존 코드 유지
        const today = new Date();
        const startDate = new Date("2025-01-23");
        const endDate = new Date("2025-02-28");

        if (today >= startDate && today <= endDate) {
          window.open(
            "fragments-of-the-wood/inquiry.html",
            "_blank",
            "width=800,height=600,left=50,top=50"
          );
          setTimeout(function () {
            window.open(
              "fragments-of-the-wood/leaflet.html",
              "_blank",
              "width=800,height=600,left=100,top=100"
            );
          }, 500);
        }
      });
    </script>
  </head>
  <body>
    <div id="poster-view" style="display: none">
      <div class="poster-container">
        <img
          src="assets/fragments-of-the-wood/poster.jpeg"
          alt="Exhibition Poster"
          class="poster-image"
        />
        <div class="tooltip-container">
          <div class="tooltip">
            <a href="http://www.daljin.com" target="_blank">@서울아트가이드</a>
          </div>
          <div class="tooltip">
            <a href="https://masilwide.com" target="_blank">@마실와이드</a>
          </div>
          <div class="tooltip">
            <a href="https://withgoods.net" target="_blank"
              >@공공공간위드굿즈</a
            >
          </div>
          <div class="tooltip">
            <a
              href="https://www.instagram.com/djartgallery_?igsh=MW5oNjZxeWs2ZXNzbg=="
              target="_blank"
              >@동작아트갤러리</a
            >
          </div>
        </div>
      </div>
    </div>

    <div class="default-content">
      <div
        style="background-color: #ffffff; text-align: center; padding: 20px 5px"
      >
        <h1 style="font-family: Times New Roman, serif; font-size: 70px">
          <span>writingsaboutbuildings</span>
        </h1>
        <h3 style="font-family: Times New Roman, serif; font-size: 20px">
          <p>"writingsaboutbuildings" designs mechanism.</p>
          <p>Public space mediates memory of community.</p>
          <p>
            Also, we write about building to narrate collective culture and to
            make imagination from region.
          </p>
        </h3>
      </div>
      <div align="center" style="padding: 50px 50px">
        <a href="cv.html">CV</a>
        <a href="preface.html">Preface</a>
        <a href="room.html">A ROOM</a>
        <a href="plants.html">Plants</a>
        <a href="drinks.html">drinks</a>
        <a href="treatment.html">Treatment</a>
        <a href="keywords.html">Keywords</a>
      </div>
      <div
        style="
          font-family: Times New Roman, serif;
          font-size: 10px;
          text-align: center;
        "
      >
        <p style="color: #000000">
          Copyright 2024. Dongjoo Lee. All rights reserved.
        </p>
        <p style="color: #000000">
          contact info_ writingsaboutbuildings.leee@gmail.com
        </p>
      </div>
    </div>

    <script>
      function checkFebruaryAndShowPoster() {
        const today = new Date();
        const isFebruary = today.getMonth() === 0; // 1 represents February (0-based month)
        const posterView = document.getElementById("poster-view");
        const defaultContent = document.querySelector(".default-content");

        if (isFebruary) {
          posterView.style.display = "block";
          defaultContent.style.display = "none";
        } else {
          posterView.style.display = "none";
          defaultContent.style.display = "block";
        }
      }

      // Check on page load
      document.addEventListener("DOMContentLoaded", function () {
        checkFebruaryAndShowPoster();
      });
    </script>
  </body>
</html>
